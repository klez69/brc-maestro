<!DOCTYPE html>
<html lang="pl">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Narzędzie do czyszczenia plików Joomla</title>
		<style>
			body {
				font-family: 'Inter', Arial, sans-serif;
				line-height: 1.6;
				color: #333;
				background-color: #f5f7f9;
				margin: 0;
				padding: 0;
			}
			.container {
				max-width: 900px;
				margin: 50px auto;
				padding: 30px;
				background-color: #fff;
				border-radius: 10px;
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
			}
			h1 {
				color: #1a56db;
				margin-top: 0;
				font-size: 28px;
				font-weight: 700;
			}
			p {
				margin-bottom: 25px;
				font-size: 16px;
			}
			.warning {
				background-color: #fff3cd;
				color: #856404;
				padding: 15px;
				border-radius: 5px;
				margin-bottom: 30px;
				border-left: 4px solid #ffc107;
			}
			.btn {
				display: inline-block;
				padding: 12px 24px;
				background-color: #1a56db;
				color: white;
				border: none;
				border-radius: 5px;
				font-weight: 600;
				cursor: pointer;
				text-decoration: none;
				transition: all 0.3s ease;
			}
			.btn:hover {
				background-color: #1e429f;
				transform: translateY(-2px);
				box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
			}
			.steps {
				margin-top: 30px;
				counter-reset: step-counter;
			}
			.step {
				margin-bottom: 20px;
				padding-left: 50px;
				position: relative;
			}
			.step:before {
				content: counter(step-counter);
				counter-increment: step-counter;
				position: absolute;
				left: 0;
				top: 0;
				width: 30px;
				height: 30px;
				background-color: #1a56db;
				border-radius: 50%;
				color: white;
				text-align: center;
				line-height: 30px;
				font-weight: bold;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>Narzędzie do czyszczenia plików Joomla</h1>

			<div class="warning">
				<strong>Uwaga!</strong> Przed użyciem tego narzędzia wykonaj kopię zapasową całej witryny. Usuwanie plików może
				spowodować utratę funkcjonalności, jeśli nie zostało przeprowadzone prawidłowo.
			</div>

			<p>
				To narzędzie pomoże bezpiecznie usunąć zbędne pliki Joomla, które zostały zastąpione przez zoptymalizowane
				wersje. Strona została wcześniej zoptymalizowana poprzez zastąpienie wielu plików CSS i JavaScript nowszymi,
				bardziej wydajnymi wersjami.
			</p>

			<a href="cleanup-script.js" class="btn">Uruchom narzędzie czyszczenia</a>

			<div class="steps">
				<h2>Instrukcja użycia:</h2>
				<div class="step">
					Kliknij przycisk "Uruchom narzędzie czyszczenia" powyżej, aby otworzyć interaktywny interfejs narzędzia.
				</div>
				<div class="step">
					Zaznacz pliki i katalogi, które chcesz usunąć z systemu. Narzędzie grupuje je według kategorii dla łatwiejszej
					nawigacji.
				</div>
				<div class="step">
					Wybierz typ skryptu, który chcesz wygenerować (bash dla Linux/Mac lub batch dla Windows).
				</div>
				<div class="step">
					Pobierz wygenerowany skrypt i przenieś go do katalogu głównego instalacji Joomla na twoim serwerze.
				</div>
				<div class="step">
					<strong>Przed uruchomieniem:</strong> Otwórz pobrany skrypt w edytorze tekstu i zmień ścieżkę katalogu
					głównego Joomla na odpowiednią dla twojego serwera.
				</div>
				<div class="step">
					Uruchom skrypt i obserwuj wyniki. Skrypt automatycznie tworzy kopię zapasową usuwanych plików.
				</div>
				<div class="step">
					Po zakończeniu procesu, sprawdź czy strona działa poprawnie. Jeśli wystąpią problemy, możesz przywrócić pliki
					z utworzonej kopii zapasowej.
				</div>
			</div>
		</div>

		<script>
			// Sprawdź, czy skrypt cleanup-script.js istnieje
			window.addEventListener('DOMContentLoaded', function () {
				const checkScriptBtn = document.querySelector('.btn')

				checkScriptBtn.addEventListener('click', function (e) {
					const xhr = new XMLHttpRequest()
					xhr.open('HEAD', 'cleanup-script.js', true)
					xhr.onreadystatechange = function () {
						if (xhr.readyState === 4) {
							if (xhr.status === 404) {
								e.preventDefault()
								alert(
									'Skrypt cleanup-script.js nie został znaleziony. Upewnij się, że plik został prawidłowo przesłany na serwer.'
								)
							}
						}
					}
					xhr.send()
				})
			})
		</script>
	</body>
</html>
